<mat-sidenav-container >
    <mat-sidenav mode="over" [(opened)]="opened">
        <mat-toolbar>
            <mat-toolbar-row style="background-color:rgba(197, 197, 197, 0.404);">
              <h2>Gestion de Planning</h2>
            </mat-toolbar-row>
          </mat-toolbar>
          <mat-divider></mat-divider>
          <mat-nav-list>
          <ul class="navbar-nav">
            <li class="nav-item">
                <mat-list-item class="nav-link" (click)="opened=!opened" style="text-align: center;" routerLink="annees">Annees<mat-icon matListIcon>date_range</mat-icon></mat-list-item>
            </li>
            <br>
            <li class="nav-item">
                <mat-list-item class="nav-link" style="text-align: center;" routerLink="calendars" (click)="opened=!opened">Planning<mat-icon matListIcon>book</mat-icon></mat-list-item>
            </li>
            <br>
            <li class="nav-item">
               <mat-list-item class="nav-link" style="text-align: center;" routerLink="eleves" (click)="opened=!opened">Eleve<mat-icon matListIcon>account_box</mat-icon></mat-list-item>
            </li>
            <br>
            <li class="nav-item">
               <mat-list-item class="nav-link" style="text-align: center;" routerLink="profs" (click)="opened=!opened">Profs<mat-icon matListIcon>supervisor_account</mat-icon></mat-list-item>
            </li>
            <br>
            <li class="nav-item">
               <mat-list-item class="nav-link" style="text-align: center;" routerLink="classes" (click)="opened=!opened">Classes<mat-icon matListIcon>work</mat-icon></mat-list-item>
            </li>
            <br>
            <li class="nav-item">
              <mat-list-item class="nav-link" style="text-align: center;" routerLink="niveaux" (click)="opened=!opened">Niveau<mat-icon matListIcon>trending_up</mat-icon></mat-list-item>
           </li>
           <br>
           <li class="nav-item">
             <mat-list-item class="nav-link" style="text-align: center;" routerLink="matieres" (click)="opened=!opened">Matières<mat-icon matListIcon>menu_book</mat-icon></mat-list-item>
          </li>
          <br>
          <li class="nav-item">
            <mat-list-item class="nav-link" style="text-align: center;" routerLink="indisponibilites" (click)="opened=!opened">Indisponibilités<mat-icon matListIcon>perm_contact_calendar</mat-icon></mat-list-item>
          </li>
          <br>
          <li class="nav-item">
            <mat-list-item class="nav-link text-dark" style="text-align: center;" routerLink="members" (click)="opened=!opened">Membres<mat-icon matListIcon>contacts</mat-icon></mat-list-item>
          </li>
          </ul>
        </mat-nav-list>
            </mat-sidenav>

  <mat-sidenav-content >
    <mat-toolbar >
      <div *ngIf="!loggedIn()">
        <p>PPE2 Gestion de planning</p>
      </div>
        <nav class="navbar navbar-expand-md fixed-top" style="background-image: repeating-linear-gradient(white,rgba(197, 197, 197, 0.404)); position:fixed">
          <div class="navbar-collapse collapse" id="navbarCollapse" style>
                <form *ngIf="!loggedIn()" #LoginForm="ngForm" class="form-inline my-2 my-lg-0" (ngSubmit)="login()" style="margin-left: 65%;">
                    <input class="form-control mr-sm-2" type="text" name="username"
                      placeholder="Identifiant" required [(ngModel)]="model.username">
                    <input class="form-control mr-sm-2" type="password" name="password"
                      placeholder="Mot de passe" required [(ngModel)]="model.password">
                    <button [disabled]="!LoginForm.valid" class="btn btn-success my-2 my-sm-0" type="submit">Login</button>
                  </form>

                <div *ngIf="loggedIn()" >
                  <button
                    type="button"
                    matTooltip="Menu"
                    aria-label="Toggle sidenav"
                    mat-icon-button
                    (click)="opened=!opened">
                    <mat-icon>menu</mat-icon>
                  </button>
                </div>


               <div *ngIf="loggedIn()" style="margin-left: 80%;">
                <a id="rv" class="text-dark">
                  Bienvenue {{authService.decodedToken?.unique_name | titlecase}}
                </a>
                  <button style="margin-left: 8%;" matTooltip="Se déconnecter"
                  class="btn btn-outline-info" (click)="logout()"><i class="fas fa-power-off"></i></button>
               </div>
          </div>
        </nav>
      </mat-toolbar>
    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>

